dhtmlXTreeObject.prototype.enableItemEditor=function(a){this._eItEd=convertStringToBoolean(a);if(!this._eItEdFlag){this._edn_click_IE=true;this._edn_dblclick=true;this._ie_aFunc=this.aFunc;this._ie_dblclickFuncHandler=this.dblclickFuncHandler;this.setOnDblClickHandler(function(d,c){if(this._edn_dblclick){this._editItem(d,c)}return true});this.setOnClickHandler(function(d,c){this._stopEditItem(d,c);if((this.ed_hist_clcik==d)&&(this._edn_click_IE)){this._editItem(d,c)}this.ed_hist_clcik=d;return true});this._eItEdFlag=true}};dhtmlXTreeObject.prototype.setOnEditHandler=function(a){this.attachEvent("onEdit",a)};dhtmlXTreeObject.prototype.setEditStartAction=function(a,b){this._edn_click_IE=convertStringToBoolean(a);this._edn_dblclick=convertStringToBoolean(b)};dhtmlXTreeObject.prototype._stopEdit=function(b,f){if(this._editCell){this.dADTempOff=this.dADTempOffEd;if(this._editCell.id!=b){var d=true;if(!f){d=this.callEvent("onEdit",[2,this._editCell.id,this,this._editCell.span.childNodes[0].value])}else{d=false;this.callEvent("onEditCancel",[this._editCell.id,this._editCell._oldValue])}if(d===true){d=this._editCell.span.childNodes[0].value}else{if(d===false){d=this._editCell._oldValue}}var e=(d!=this._editCell._oldValue);this._editCell.span.innerHTML=d;this._editCell.label=this._editCell.span.innerHTML;var c=this._editCell.i_sel?"selectedTreeRow":"standartTreeRow";this._editCell.span.className=c;this._editCell.span.parentNode.className="standartTreeRow";this._editCell.span.style.paddingRight=this._editCell.span.style.paddingLeft="5px";this._editCell.span.onclick=this._editCell.span.ondblclick=function(){};var g=this._editCell.id;if(this.childCalc){this._fixChildCountLabel(this._editCell)}this._editCell=null;if(!f){this.callEvent("onEdit",[3,g,this,e])}if(this._enblkbrd){this.parentObject.lastChild.focus();this.parentObject.lastChild.focus()}}}};dhtmlXTreeObject.prototype._stopEditItem=function(b,a){this._stopEdit(b)};dhtmlXTreeObject.prototype.stopEdit=function(a){if(this._editCell){this._stopEdit(this._editCell.id+"_non",a)}};dhtmlXTreeObject.prototype.editItem=function(a){this._editItem(a,this)};dhtmlXTreeObject.prototype._editItem=function(e,a){if(this._eItEd){this._stopEdit();var c=this._globalIdStorageFind(e);if(!c){return}var d=this.callEvent("onEdit",[0,e,this,c.span.innerHTML]);if(d===true){d=(typeof c.span.innerText!="undefined"?c.span.innerText:c.span.textContent)}else{if(d===false){return}}this.dADTempOffEd=this.dADTempOff;this.dADTempOff=false;this._editCell=c;c._oldValue=d;c.span.innerHTML="<input type='text' class='intreeeditRow' />";c.span.style.paddingRight=c.span.style.paddingLeft="0px";c.span.onclick=c.span.ondblclick=function(f){(f||event).cancelBubble=true};c.span.childNodes[0].value=d;c.span.childNodes[0].onselectstart=function(f){(f||event).cancelBubble=true;return true};c.span.childNodes[0].onmousedown=function(f){(f||event).cancelBubble=true;return true};c.span.childNodes[0].focus();c.span.childNodes[0].focus();c.span.onclick=function(f){(f||event).cancelBubble=true;return false};c.span.className="";c.span.parentNode.className="";var b=this;c.span.childNodes[0].onkeydown=function(f){if(!f){f=window.event}if(f.keyCode==13){f.cancelBubble=true;b._stopEdit(window.undefined)}else{if(f.keyCode==27){b._editCell.span.childNodes[0].value=b._editCell._oldValue;b._stopEdit(window.undefined)}}(f||event).cancelBubble=true};this.callEvent("onEdit",[1,e,this])}};